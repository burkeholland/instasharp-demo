(function(){define(["jquery","kendo","text!mylibs/users/views/users-template.html","text!mylibs/users/views/user-details.html","text!mylibs/users/views/users.html"],function(n,t,i,r,u){var c,e,l,o,s,h,f,a=this;return h=null,s=null,r=t.template(r),c=null,o=null,e={loading:function(i,r){return t.ui.progress(n("body"),i),f.set("loading",i),r!==void 0?f.set("denied",r):void 0}},l={get:function(){return e.loading(!0),n.get("api/users/"+s,function(n){return n.meta.code===400?e.loading(!1,!0):(o.empty(),o.append(r(n.data)),f.get("data.recent").read())})}},f=t.observable({data:{recent:new t.data.DataSource({transport:{read:{url:function(){return"api/users/"+s+"/recent"}},parameterMap:function(){return{count:40}}},change:function(){return e.loading(!1,!1)},schema:{data:"data"}})},loading:!0,denied:!1,user:function(){return this.get("loading")===!1&&!this.get("denied")==!0?!0:!1},error:function(){return this.get("loading")===!1&&this.get("denied")===!0?!0:!1}}),n("#users-template").length===0&&n("body").append(i),{init:function(){return h===null?h=new t.View(u,{model:f,init:function(){return c=this.element,o=this.element.find("#user")}}):h},get:function(n){return s=n,l.get()}}})}).call(this)